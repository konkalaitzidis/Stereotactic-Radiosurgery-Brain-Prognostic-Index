<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 600px;
            margin: 20px auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        label {
            font-weight: bold;
        }
        input[type="number"] {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        button {
            padding: 10px 20px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
        #result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            background-color: #f0f0f0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Medical Calculator</h2>
        <form id="calculator-form">
            
            <label for="value1">Disease outside CNS under control:</label>
            <select id="value1" name="value1" required>
                <option value="">Select</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select><br>

            <label for="value2">Mutational status primary tumour:</label>
            <select id="value2" name="value2" required>
                <option value="">Select</option>
                <option value="EGFR">EGFR</option>
                <option value="ALK">ALK</option>
                <option value="Other">Other</option>
                <option value="KRAS">KRAS</option>
            </select><br>

            <label for="value3">Performance status:</label>
            <input type="text" id="value3" name="value3" required><br>

            <label for="value4">Age:</label>
            <input type="number" id="value4" name="value4" required><br>

            <label for="value5">log(Volume of the first treated SRS):</label>
            <input type="text" id="value5" name="value5" required><br>

            <label for="value6">Extracranial disease:</label>
            <select id="value6" name="value6" required>
                <option value="">Select</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select><br>

            <label for="value7">CNS metastasis at primary tumour:</label>
            <select id="value7" name="value7" required>
                <option value="">Select</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select><br>

            <label for="value8">Lungadenocarcinoma:</label>
            <select id="value8" name="value8" required>
                <option value="">Select</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select><br>

            <label for="value9">Symptomatic CNS disease:</label>
            <select id="value9" name="value9" required>
                <option value="">Select</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select><br>

            <button type="button" onclick="calculateResult()">Calculate</button>

        </form>
        <div id="result"></div>
    </div>

    <script>
        function calculateResult() {
            var oneYearSurvivalProbability = 0.399;

            var result = Math.pow(oneYearSurvivalProbability, Math.exp(
                - 0.484 * (document.getElementById('value1').value === 'Yes' ? 0 : 1 - 0.399) // Disease outside CNS under control
                - 0.363 * (document.getElementById('value2').value === 'EGFR' ? 0 : 1 - 0.093) // Mutational status primary tumour
                - 0.871 * (document.getElementById('value2').value === 'ALK' ? 0 : 1 - 0.054) // Mutational status primary tumour
                - 0.131 * (document.getElementById('value2').value === 'Other' ? 0 : 1 - 0.037) // Mutational status primary tumour
                - 0.210 * (document.getElementById('value2').value === 'KRAS' ? 0 : 1 - 0.108) // Mutational status primary tumour
                + 0.596 * (1 - 0.115) // Performance status
                + 0.015 * (1 - parseFloat(document.getElementById('value4').value) / 66.94) // Age
                + 0.075 * (1 - 0.782) // log(Volume of the first treated SRS)
                + 0.508 * (document.getElementById('value6').value === 'Yes' ? 0 : 1 - 0.819) // Extracranial disease
                - 0.235 * (document.getElementById('value7').value === 'Yes' ? 0 : 1 - 0.511) // CNS metastasis at primary tumour
                - 0.219 * (document.getElementById('value8').value === 'Yes' ? 0 : 1 - 0.741) // Lungadenocarcinoma
                + 0.265 * (document.getElementById('value9').value === 'Yes' ? 0 : 1 - 0.848) // Symptomatic CNS disease
            ));

            document.getElementById('result').innerHTML = "Result: " + result;
        }
    </script>
</body>
</html>
